import scrapy
from scrapy.crawler import CrawlerProcess
import scrapy.linkextractors
gits = {'https://gitlab.com/librebob/athenaeum.git', 'https://github.com/minetest-mods/mtg_i18n.git', 'https://github.com/lduboeuf/Stellarium-mobile', 'https://gitlab.com/SuperFreezZ/SuperFreezZ', 'https://gitlab.labs.nic.cz/turris/foris/foris.git', 'https://github.com/Kestutis-Z/World-Weather.git', 'https://github.com/Ghini/ghini.desktop-docs.i18n.git', 'https://github.com/Skolab-Groupware/skolab-webadmin.git', 'https://github.com/tumic0/GPXSee.git', 'https://github.com/cpesch/RouteConverter.git', 'https://github.com/mypaint/mypaint.git', 'https://git.jami.net/savoirfairelinux/ring-client-android.git', 'https://github.com/geobra/harbour-shmoose', 'https://github.com/WeblateOrg/hosted.git', 'https://github.com/eventum/eventum.git', 'https://gitlab.labs.nic.cz/turris/reforis/reforis.git', 'https://gitlab.com/tinyMediaManager/tinyMediaManager.git', 'https://github.com/Guake/guake.git', 'https://github.com/WeblateOrg/hello.git', 'https://github.com/LibreShift/red-moon.git', 'https://bitbucket.org/leagueofgeeks/armelloprivatelocalization.git', 'https://git.savannah.gnu.org/git/indent.git', 'https://github.com/unity-idm/unity.git', 'https://git.zrythm.org/git/zrythm-web.git', 'https://github.com/commons-app/apps-android-commons.git', 'https://gitlab.labs.nic.cz/turris/reforis/foris-js.git', 'https://github.com/gotlium/django-geoip-redis', 'https://github.com/projecthamster/hamster-shell-extension.git', 'https://salsa.debian.org/installer-team/d-i.git', 'https://github.com/lexica/lexica.git', 'https://github.com/phw/peek.git', 'https://github.com/Linaro/squad', 'https://github.com/ar-/gdroidclient.git', 'https://github.com/bjorn/tiled.git', 'https://github.com/CTPUG/wafer', 'https://github.com/FelisCatus/SwitchyOmega.git', 'https://github.com/equeim/unplayer.git', 'https://git.sailfishos.org/ilpianista/harbour-MPW.git', 'https://github.com/tiansh/ass-danmaku.git', 'https://github.com/metrodroid/metrodroid.git', 'https://github.com/open-sdg/sdg-translations.git', 'https://gitlab.com/tslocum/meditationassistant', 'https://git.jami.net/savoirfairelinux/ring-client-macosx.git', 'https://code.getnoc.com/noc/noc', 'https://github.com/godotengine/godot-docs-l10n.git', 'https://github.com/QuantumBadger/RedReader.git', 'https://github.com/MusicGenerator/mumble-ruby-pluginbot.git', 'https://github.com/bparmentier/OpenBikeSharing.git', 'https://bitbucket.org/kravich/deadbeef-silica.git', 'https://github.com/datenanfragen/website', 'https://github.com/mpcjanssen/simpletask-android.git', 'https://github.com/F4uzan/HgLauncher', 'https://github.com/drpout/boilr-site.git', 'https://github.com/acmepjz/meandmyshadow.git', 'https://kallithea-scm.org/repos/kallithea-i18n', 'https://github.com/juanro49/FeedTV', 'https://github.com/koreader/koreader-translations', 'https://github.com/fossasia/chat.susi.ai.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-systemtray.git', 'https://github.com/Brudhu/harbour-money.git', 'https://github.com/velnias75/NetMauMau-Qt-Client.git', 'https://github.com/projectestac/jclic.js.git', 'https://github.com/WohlSoft/PGE-Project', 'https://github.com/haecker-felix/gradio.git', 'https://github.com/WeblateOrg/website.git', 'https://github.com/phpmyadmin/localized_docs.git', 'https://github.com/X4fyr/Markdown-Notes.git', 'https://github.com/opportuno-tech/pretix-qpaypro', 'https://github.com/ar-/apple-flinger.git', 'https://github.com/webcamoid/webcamoid.git', 'https://salsa.debian.org/installer-team/installation-guide.git', 'https://github.com/malah-code/Android-Open-Radio.git', 'https://gitlab.labs.nic.cz/turris/foris-netmetr-plugin.git', 'https://github.com/unknown-horizons/unknown-horizons.git', 'https://github.com/MusicPlayerDaemon/ncmpc.git', 'https://github.com/muriloventuroso/givemelyrics.git', 'https://github.com/gafam/gafam-poster-translations.git', 'https://github.com/Ghini/ghini.pocket.git', 'https://github.com/freeplane/freeplane.git', 'https://framagit.org/dystopia-project/simple-email.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-notifications.git', 'https://gitlab.com/fdroid/fdroidclient.git', 'https://github.com/samaaron/sonic-pi.git', 'git@github.com:abranson/rockpool.git', 'https://github.com/dreamchess/dreamchess.git', 'https://github.com/kevdkav/hiri-translate.git', 'https://github.com/Ghini/server-docs.i18n', 'https://git.jami.net/savoirfairelinux/ring-lrc.git', 'https://github.com/hluk/CopyQ.git', 'https://github.com/hangoutsbot/hangoutsbot-locales.git', 'https://github.com/thuryn/your-local-weather.git', 'https://gitlab.labs.nic.cz/turris/diagnostics.git', 'https://github.com/oliexdev/openScale.git', 'https://gitlab.labs.nic.cz/turris/foris-data_collect-plugin.git', 'https://github.com/madbob/GASdottoNG.git', 'https://github.com/guardianproject/ripple.git', 'https://git.jami.net/savoirfairelinux/ring-client-ios.git', 'https://github.com/loowid/loowid.git', 'https://git.jami.net/savoirfairelinux/ring-client-uwp.git', 'https://gitlab.labs.nic.cz/turris/turris-translations.git', 'https://github.com/guardianproject/locationprivacy.git', 'https://github.com/neversun/bodyweight-timer.git', 'https://github.com/CaptainFact/captain-fact-frontend', 'https://github.com/Pext/pext_module_radio', 'https://github.com/elastic/kibana', 'https://github.com/jnavila/git-manpages-l10n', 'https://github.com/ciubex/dscautorename.git', 'https://github.com/muriloventuroso/easyssh.git', 'https://github.com/fossasia/susi_android.git', 'https://gitlab.com/pin-no/rms-personal-data-safe.git', 'https://gitlab.com/fdroid/privileged-extension.git', 'https://github.com/equeim/tremotesf', 'https://github.com/EtchDroid/EtchDroid', 'https://github.com/openwrt/luci', 'https://github.com/crowdference/babel.git', 'https://github.com/Ghini/ghini.tour', 'https://github.com/fr3ts0n/AndrOBD.git', 'https://git.zrythm.org/git/zrythm.git', 'https://git.sailfishos.org/ilpianista/harbour-Papocchio.git', 'https://github.com/TeamNewPipe/NewPipe.git', 'https://github.com/omarroth/invidious.git', 'https://gitlab.com/agilob/sudokusolver.git', 'https://github.com/Sw24Softwares/StarkeVerben.git', 'https://github.com/drpout/boilr.git', 'https://github.com/minetest/minetest.git', 'https://gitlab.com/Remmina/Remmina', 'https://github.com/minetest-mods/jukebox.git', 'https://github.com/AsteroidOS/asteroid-calendar.git', 'https://github.com/fossasia/open-event-orga-server.git', 'https://github.com/wish7code/openbmap.git', 'https://gitlab.gnome.org/gnumdk/passbook-po.git', 'https://github.com/AsteroidOS/asteroid-settings.git', 'https://salsa.debian.org/debian-edu/debian-edu-doc.git', 'https://gitlab.com/abate/volunteers-nowhere.git', 'https://github.com/cboxdoerfer/fsearch.git', 'https://github.com/babluboy/bookworm.git', 'https://gitlab.gnome.org/gnumdk/eolie-po.git', 'https://github.com/babluboy/nutty.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-session.git', 'https://github.com/krobelus/cyanide.git', 'https://github.com/eventoL/eventoL.git', 'https://github.com/raatmarien/chibe.git', 'https://github.com/FreeTubeApp/FreeTube.git', 'https://github.com/code-troopers/android-betterpickers.git', 'https://git.dittberner.info/jan/debianmemberportfolio.git', 'https://github.com/pypa/warehouse.git', 'https://github.com/danpla/dpscreenocr', 'https://github.com/ubuntu/ubuntu-make', 'https://github.com/DarkHobbit/doublecontact.git', 'https://gitlab.com/fdroid/fdroiddata-localizations.git', 'https://gitlab.com/safesurfer/SafeSurfer-Desktop.git', 'https://gitlab.com/scif/whiskers', 'https://gitlab.com/mojo42/Jirafeau.git', 'https://github.com/coala/gci-leaders.git', 'https://github.com/fvacek/quickbox.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-display.git', 'https://salsa.debian.org/freedombox-team/android-app.git', 'https://github.com/Alecaddd/sequeler.git', 'https://github.com/X0rg/CPU-X.git', 'https://github.com/mvmike/min-cal-widget', 'https://github.com/olivierkes/manuskript.git', 'https://github.com/chteuchteu/Blurify.git', 'https://gitlab.labs.nic.cz/turris/foris-openvpn-plugin.git', 'https://github.com/SergiX44/XBackBone', 'https://git.code.sf.net/p/mmarchitect/code', 'https://gitlab.com/noosfero/noosfero.git', 'https://github.com/eehouse/xwords.git', 'https://github.com/renyuneyun/Easer.git', 'https://gitlab.com/ntninja/user-agent-switcher.git', 'https://github.com/minetest-mods/hopper.git', 'https://github.com/nijel/odorik.git', 'https://github.com/tkashkin/GameHub.git', 'https://github.com/liberapay/liberapay.com.git', 'https://gitlab.com/SuperTuxParty/SuperTuxParty/', 'https://github.com/XCSoar/XCSoar.git', 'https://salsa.debian.org/freedombox-team/plinth.git', 'https://framagit.org/mvplan-dev/mvplan', None, 'https://github.com/Belphemur/SoundSwitch.git', 'https://github.com/darkwallet/darkwallet.git', 'https://github.com/SSilence/selfoss.git', 'https://github.com/Kunzisoft/KeePassDX.git', 'https://github.com/exaile/exaile.git', 'https://github.com/qooxdoo/qooxdoo.git', 'https://github.com/gammu/wammu.git', 'https://github.com/OpenOrienteering/mapper.git', 'https://github.com/chg-hou/DawnlightSearch.git', 'https://github.com/AsteroidOS/asteroid-launcher.git', 'https://github.com/QTodoTxt/QTodoTxt.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-messages.git', 'https://gitlab.com/tractor-team/carburetor.git', 'https://github.com/tasks/tasks', 'https://gitlab.labs.nic.cz/turris/foris-pakon-plugin.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-power.git', 'https://github.com/airsonic/airsonic', 'https://github.com/wallabag/wallabag.git', 'https://bitbucket.org/lele/metapensiero.extjs.desktop.git', 'https://github.com/suokko/BridgeClock.git', 'https://github.com/AsteroidOS/asteroid-music.git', 'https://git.jami.net/savoirfairelinux/ring-client-windows.git', 'https://github.com/Pext/pext_module_openweathermap', 'https://github.com/gammu/gammu.git', 'https://github.com/spiral-project/ihatemoney', 'https://github.com/rubenwardy/mtmods4android.git', 'https://github.com/Etar-Group/Etar-Calendar.git', 'https://github.com/brarcher/loyalty-card-locker.git', 'https://git.jami.net/savoirfairelinux/ring-client-gnome.git', 'https://github.com/renatolond/mastodon-twitter-poster.git', 'https://gitlab.com/caspermeijn/onvifviewer.git', 'https://github.com/MailCleaner/MailCleaner.git', 'https://github.com/dino/dino.git', 'https://gitlab.labs.nic.cz/turris/foris/foris-diagnostics-plugin.git', 'https://github.com/DokiDokiModManager/Mod-Manager', 'https://github.com/mquinson/po4a.git', 'https://github.com/ximion/appstream.git', 'https://github.com/giloutho/Logfly.git', 'https://github.com/guardianproject/obscuracam.git', 'https://github.com/AsteroidOS/AsteroidOSSync.git', 'https://github.com/chrysn/arandr.git', 'https://gitlab.labs.nic.cz/turris/foris/foris-subordinates-plugin.git', 'https://github.com/Ghini/ghini.desktop.git', 'https://gitlab.gnome.org/gnumdk/lollypop-po.git', 'https://github.com/xenko3d/xenko.git', 'https://github.com/gillesdegottex/fmit.git', 'https://github.com/wallabag/android-app.git', 'https://github.com/AsteroidOS/asteroid-weather.git', 'https://github.com/tristanheaven/gtkhash.git', 'https://github.com/ArcticaProject/librda.git', 'https://github.com/guardianproject/orbot.git', 'https://github.com/WeblateOrg/weblate.git', 'https://github.com/sdaps/sdaps.git', 'https://github.com/minetest-mods/drawers.git', 'git://git.tuxfamily.org/gitroot/galette/galette.git', 'https://github.com/dbeaver/dbeaver.git', 'https://github.com/AsteroidOS/asteroid-btsyncd.git', 'https://github.com/nesnomis/harbour-allradio.git', 'https://github.com/palinek/nm-tray.git', 'https://github.com/phpmyadmin/sql-parser.git', 'https://github.com/danvratil/FBEventSync.git', 'https://github.com/y20k/trackbook.git', 'https://gitlab.com/scarpetta/pdfmixtool.git', 'https://github.com/slgobinath/SafeEyes.git', 'https://github.com/tateisu/SubwayTooter.git', 'https://github.com/alainm23/planner.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-keyboard.git', 'https://git.sailfishos.org/ilpianista/harbour-Lyrics.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-appmenu.git', 'https://github.com/y20k/escapepod.git', 'https://github.com/qTox/qTox', 'https://git.sailfishos.org/ilpianista/harbour-Base64.git', 'git://git.sv.gnu.org/scopa.git', 'https://github.com/AsteroidOS/asteroid-calculator.git', 'https://github.com/CityZenApp/Android-Development.git', 'https://bitbucket.org/sumwars/sumwars-code', 'https://github.com/systemli/userli/', 'https://git.sailfishos.org/ilpianista/harbour-HostIsDown.git', 'https://github.com/jbl2024/latelier', 'https://github.com/naxuroqa/Venom.git', 'https://github.com/Sparker0i/Weather.git', 'https://gitlab.com/gunnarwolf/madewithcc-es.git', 'https://github.com/chteuchteu/Munin-for-Android.git', 'https://github.com/AndorsTrailRelease/andors-trail.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-printers.git', 'https://github.com/brakhane/Orisa', 'https://github.com/TryGhost/Ghost-Android.git', 'https://github.com/samhocevar/wincompose.git', 'https://github.com/Neamar/teamward-client.git', 'https://github.com/godotengine/godot.git', 'https://0xACAB.org/monkeysphere/monkeysign.git', 'https://github.com/micahflee/onionshare-weblate.git', 'https://github.com/Pext/Pext.git', 'https://github.com/IJHack/QtPass', 'local:', 'https://github.com/guardianproject/PixelKnot.git', 'https://gitlab.com/mailman/django-mailman3', 'https://github.com/VitexSoftware/Icinga-Editor.git', 'https://gitlab.labs.nic.cz/turris/foris-storage-plugin.git', 'https://github.com/MusicBottle/MusicBottle.git', 'https://gitlab.com/mailman/hyperkitty', 'https://github.com/OpenRefine/OpenRefine.git', 'https://github.com/Bajoja/indicator-kdeconnect.git', 'https://github.com/captnfab/FireTitle.git', 'https://github.com/InsightIM/Tok-iOS', 'https://github.com/InsightIM/Tok-Android', 'https://github.com/genonbeta/TrebleShot.git', 'https://github.com/phramusca/JaMuz.git', 'https://github.com/minetest-mods/lapis.git', 'https://bitbucket.org/lele/sol.git', 'https://github.com/duplicati/duplicati.git', 'https://github.com/AyatanaIndicators/ayatana-indicator-sound.git', 'https://git.code.sf.net/p/pasang-emas/code', 'https://github.com/jangernert/FeedReader.git', 'https://github.com/rwth-acis/RequirementsBazaar-WebFrontend.git', 'https://github.com/AsteroidOS/lipstick.git', 'https://github.com/dyne/tomb', 'https://github.com/CellularPrivacy/Android-IMSI-Catcher-Detector.git', 'https://github.com/phpmyadmin/phpmyadmin.git', 'https://github.com/RicinApp/Ricin.git', 'https://github.com/gitcoinco/web.git', 'https://github.com/sytolk/TaxiAndroidOpen', 'https://github.com/AyatanaIndicators/ayatana-indicator-datetime.git', 'https://github.com/y20k/transistor.git', 'https://github.com/hunspell/hunspell.git', 'https://salsa.debian.org/iso-codes-team/iso-codes.git', 'https://github.com/muriloventuroso/pdftricks.git', 'https://gitlab.com/guardianproject/checkey.git', 'https://github.com/ArcticaProject/remote-logon-service.git', 'https://github.com/Nelson-numerical-software/nelson.git', 'https://gitlab.com/mivoligo/Night_Clock_kotlin.git', 'https://github.com/ruleant/getback_gps.git', 'https://github.com/qqq3/good-weather.git', 'https://github.com/manisandro/gImageReader.git', 'https://github.com/JMoerman/Go-For-It', 'https://github.com/qTox/qTox-Website.git', 'https://github.com/Etuldan/spaRSS.git', 'https://github.com/ernesst/ActivityTracker.git', 'https://gitlab.com/mailman/mailman', 'https://codeberg.org/Freeyourgadget/Gadgetbridge.git', 'https://github.com/Pext/pext_module_pass.git', 'https://salsa.debian.org/debian/debian-reference.git', 'https://framagit.org/kepon/CalcPvAutonome.git', 'https://github.com/guardianproject/haven.git', 'https://gitlab.com/liberapay/liberapay-everywhere.git', 'https://bitbucket.org/navigatecms/navigatecms', 'https://github.com/ram-on/SkyTube.git', 'https://git.sailfishos.org/ilpianista/harbour-SailHN.git', 'https://gitlab.com/fdroid/fdroid-website.git', 'https://salsa.debian.org/hertzog/debian-handbook.git', 'https://github.com/juha-h/baresip-studio', 'https://github.com/gammu/website.git', 'https://github.com/nijel/darky.git', 'https://github.com/gnunn1/terminix.git', 'https://github.com/GNUSim8085/GNUSim8085.git', 'https://github.com/jcbrand/converse.js.git', 'https://github.com/inorichi/tachiyomi.git', 'https://github.com/bablukid/cagette.git', 'https://gitea.com/gitnex/GitNex/', 'https://gitlab.com/ChristianPauly/fluffychat.git', 'https://github.com/bperel/WhatTheDuck', 'https://github.com/osmandapp/OsmAnd-ios.git', 'https://github.com/tachiyomiorg/android-app.git', 'git@gitlab.com:TICgal/gapp.git', 'https://github.com/AsteroidOS/asteroid-timer.git', 'https://github.com/AsteroidOS/asteroid-stopwatch.git', 'https://github.com/junrrein/pdfslicer.git', 'https://github.com/andgineer/TRegExpr', 'https://github.com/ArcticaProject/arctica-greeter.git', 'https://github.com/mypaint/libmypaint.git', 'https://github.com/Ghini/server-docs.i18n.git', 'https://github.com/necrose99/qt4-fsarchiver.git', 'https://github.com/DamirPorobic/ksnip.git', 'https://github.com/senshu/Sozi.git', 'https://salsa.debian.org/phpmyadmin-team/phpmyadmin.git', 'https://github.com/EmoteCollector/bot.git', 'https://github.com/sschueller/peertube-android.git', 'https://github.com/florence-social/mastodon-fork', 'https://github.com/lxc/lxd.git', 'https://gitlab.com/mailman/postorius.git', 'https://gitlab.labs.nic.cz/turris/foris-ssbackups-plugin.git', 'https://github.com/EFN/Privacy4Kids.git', 'https://github.com/guardianproject/OpenCircle.git', 'https://github.com/davide-casiraghi/ci-global-calendar', 'https://github.com/osmandapp/Osmand.git', 'https://gitlab.com/goodvibes/goodvibes.git', 'https://github.com/occrp/id-frontend.git', 'https://invent.kde.org/kde/kaidan', 'https://github.com/Neamar/KISS.git', 'https://github.com/canyapan/DietDiaryApp.git', 'https://gitlab.com/fdroid/fdroidserver.git', 'https://github.com/mquinson/po4a-website.git', 'https://github.com/Otiel/BandcampDownloader', 'https://github.com/AsteroidOS/asteroid-alarmclock.git', 'https://gitlab.com/fdroid/repomaker.git'}
java_gits = set()
class WeblateSpider(scrapy.spiders.CrawlSpider):
    name = "WeblateSpider"
    start_urls=["https://hosted.weblate.org/projects"]
    rules = [
        scrapy.spiders.Rule(link_extractor=scrapy.linkextractors.LinkExtractor(allow=r"weblate.org/projects/[^\/]*/",deny=r"weblate.org/projects/[^\/]*/[^\/]+"),follow=True),
        scrapy.spiders.Rule(link_extractor=scrapy.linkextractors.LinkExtractor(allow=r"weblate.org/projects/[^\/]*/[^\/]+"),callback="get_project_git")
    ]

    def get_project_git(self,response):
        gits.add(response.css("#information").css(".git-repo").xpath("text()").get())
class GithubCrawler(scrapy.Spider):
    name="GithubCrawler"

    @property
    def start_urls(self):
        return list(filter(lambda x: x is not None and "github.com" in x,gits))

    def parse(self, response):
        javaMeasure = response.xpath('//*[text()=\"Java\"]')
        if not javaMeasure:return
        java = float(response.xpath('//*[text()=\"Java\"]').attrib["style"].split(";")[0].split(":")[-1].replace("%",""))
        if java > 50:
            java_gits.add(response.url)





if __name__ == '__main__':
    process = CrawlerProcess({
        'USER_AGENT': 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)'
    })

    # process.crawl(WeblateSpider)
    # process.start()

    process.crawl(GithubCrawler)
    process.start()
    for i in java_gits:
        print(i)